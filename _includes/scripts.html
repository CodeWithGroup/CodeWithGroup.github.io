<!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
<script src="{{site.url}}/js/ie10-viewport-bug-workaround.js"></script>

<script src="https://www.eventbrite.co.uk/static/widgets/eb_widgets.js"></script>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
<script crossorigin="anonymous" src="https://code.jquery.com/jquery-3.5.1.min.js"
    integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="></script>
<script crossorigin="anonymous" src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"
    integrity="sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU="></script>
<script crossorigin="anonymous" src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
    integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"></script>
<script crossorigin="anonymous" src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
    integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"></script>

<script type="text/javascript" src="{{site.url}}/js/change-font.js"></script>
<script type="text/javascript" src="{{site.url}}/js/check-width.js"></script>
<script type="text/javascript" src="{{site.url}}/js/sidebar.js"></script>
<script type="text/javascript" src="{{site.url}}/js/typed-suffix.js"></script>

<!-- Page-specific scripts -->
<script type="text/javascript">
    if ("{{page.title}}" === "Events") {
        $.ajax({
            "async": true,
            "crossDomain": true,
            "url": "https://9buw6tj3aj.execute-api.eu-west-2.amazonaws.com/CodeWithAPI/",
            "method": "GET",
            "headers": {
                "Content-Type": "application/json"
            }
        }).done(function(data) {
            $("#events-drop-ins").html(data.dropins);
            $("#events-huddles").html(data.huddles);
            $("#events-workshops").html(data.workshops);
            $("#eventBriteWidgets").append(data.widgets);
            $.globalEval(data.widgets);
        });
    }
</script>

<script type="text/javascript">
    if ("{{page.title}}" === "Activities" || "{{page.title}}" === "Resources") {
        allCards = $('div.align-items-stretch:has(span.badge)');

        function resetCards() {
            $.each(allCards, function() {
                var card = $(this);
                if (!card.hasClass('d-flex')) {
                    card.toggleClass('d-flex');
                }
                $(card).show();
            });
        }
        
        function filterCards(filterText) {
            resetCards();
            $.each(allCards, function() {
                var card = $(this);
                if (card.not(':has(span.badge:contains("' + filterText + '"))').length > 0) {
                    card.toggleClass('d-flex');
                    $(card).hide();
                }
            });
        }
    }
</script>


<!-- Placeholder for dynamic EventBrite integration script generation -->
<script id="eventBriteWidgets" type="text/javascript">
</script>